<launch>
  <!-- "camera" should uniquely identify the device. All topics are pushed down
       into the "camera" namespace, and it is prepended to tf frame ids. -->
       
  <param name="use_sim_time" type="bool" value="false" />    
  <arg name="config_file" default="/home/mwuethri_local/data/code_base/src/render_kinect/config/default_setup/sim_config.yaml" />
  <arg name="camera" default="XTION" />
  <arg name="depth_frame" default="/$(arg camera)_IR" />
  <arg name="calibration_url"  default="$(find state_filtering)/config/xtion_calib.yaml" />
  <node pkg="render_kinect" name="$(arg camera)" type="generate_dataset" respawn="false" output="screen">
    <param name="depth_frame_id"  type="string"  value="$(arg depth_frame)" />
    <param name="calib_url"  type="string"  value="$(arg calibration_url)" />
    <rosparam command="load" file="$(arg config_file)" />
    <param name="config_file"  type="string"  value="$(arg config_file)" />    
  </node>
  
  <!-- Load reasonable defaults for the relative pose between cameras -->
  <include file="$(find render_kinect)/launch/kinect_frames.launch">
    <param name="camera" type="string" value="/$(arg camera)"/>
  </include>
</launch>
